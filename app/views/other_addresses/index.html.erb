<script src="other_addresses.js" charset="utf-8"></script>

<div class="container">
	<h1>住所一覧</h1>
	<div class="row">

	<!-- 住所追加 -->
	 <h4>新しい住所の追加</h4>
	 <div class="new_other_address_box well col-lg-6" style="background-color: silver;">
	 	<%= form_for(@other_address) do |f| %>
	 	<div class="row">
	 		<div class="co-lg-6">
	 			<h5>お名前</h5>
	 			<%= f.text_field :last_name %>
        		<%= f.text_field :first_name %>
	 		</div>
	 		<div class="co-lg-6">
	 			<h5>お名前（カナ）</h5>
	 			<%= f.text_field :last_name_kana %>
        		<%= f.text_field :first_name_kana %>
	 		</div>
	 	</div>
	 	<div class="row">
	 			<h5>住所</h5>
	 		<div class="co-lg-6">
	 			<p>〒</p>
	 			<%= f.text_field :postal_code1,  id: "zip1"  %>
	 			<%= f.text_field :postal_code2,  id: "zip2"  %>
	 		</div>
	 	</div>
	 	<div class="row">
	 			<%= f.text_field :prefecture_code, autofocus: true, autocomplete: "prefecture_code", id: "adrs3" %>
	 			<%= f.text_field :city, autofocus: true, autocomplete: "city", id: "adrs4" %>
	 	</div>
	 	<div class="row">
	 		<%= f.text_field :building, autofocus: true, autocomplete: "building", id: "adrs5" %>
	 	</div>
	 	<div class="row">
	 			<h5>電話番号</h5>
	 			<%= f.text_field :phone_number1 %>
        		<%= f.text_field :phone_number2 %>
        		<%= f.text_field :phone_number3 %>
	 	</div>
	 	<div class="row">
	 		    <%= f.submit '追加' %>
	 	</div>
	 	<% end %>
	 </div>
	<!-- 追加されていく住所 -->
	 <div class="col-lg-6">
	 <h4>住所一覧</h4>
	 </div>
	 <% @other_addresses.each do |other_address|%>
	  <div class="col-lg-6 creaded_other_address">
	  	<div class="container col-lg-12 well">
	  		 <p>お名前</p>
			<div class="row card-body bg-danger">
			 <div class="col-lg-6 lastname">
				<%= other_address.last_name %>
			 </div>
			 <div class="col-lg-6 first_name">
				<%= other_address.first_name %>
			 </div>
			</div>
			<p>お名前（カナ）</p>
			<div class="row card-body bg-danger">
			 <div class="col-lg-6 last_name_kana">
				<%= other_address.last_name_kana %>
			 </div>
			 <div class="col-lg-6 first_name_kana">
				<%= other_address.first_name_kana %>
			 </div>
			</div>
			<p>住所</p>
			<div class="row card-body bg-danger">
			 <div class="col-lg-6 postal_code1">
			 	<body>〒</body>
				<%= other_address.postal_code1 %>
			 </div>
			 <div class="col-lg-6 postal_code2">
				<%= other_address.postal_code2 %>
			 </div>
			</div>
			<div class="row card-body bg-danger">
			 <div class="col-lg-6 prefecture_code">
				<%= other_address.prefecture_code %>
			 </div>
			 <div class="col-lg-6 city">
				<%= other_address.city %>
			 </div>
			</div>
			<div class="row card-body bg-danger">
			 <div class="col-lg-12 building">
				<%= other_address.building %>
			 </div>
			</div>
			<p>電話番号</p>
			<div class="row card-body bg-danger">
			 <div class="col-lg-4 phone_number1">
				<%= other_address.phone_number1 %>
			 </div>
			 <div class="col-lg-4 phone_number2">
				<%= other_address.phone_number2 %>
			 </div>
			 <div class="col-lg-4 phone_number3">
				<%= other_address.phone_number3 %>
			 </div>
			</div>
			<div class="row card-body">
			 <button type="button" class="btn btn-info">
			 	<%= link_to '編集', edit_other_address_path(other_address) %>
			 </button>
			 <button type="button" class="btn btn-default">
				<%= link_to '削除',other_address_path(other_address),method: :delete %>
			 </button>
			</div>
		</div>
	  </div>
	 <% end %>
	</div>
</div>

<script>
$(window).ready( function() {
	$('#zip1').jpostal({
		postcode : [
			'#zip1',	//郵便番号1
			'#zip2' 	//郵便番号2
		],
		address : {
			'#adrs3'  : '%3',	//都道府県
			'#adrs4'  : '%4',	//市区町村
			'#adrs5'  : '%5',	//町域
			'#adrs6'  : '%6',	//大口事業所の番地
			'#adrs7'  : '%7',	//大口事業所の名称
			'#adrs8'  : '%8',	//都道府県カナ
			'#adrs9'  : '%9'	//市区町村カナ
		}
	});
});
</script>
